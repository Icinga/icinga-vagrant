<% if @proxy -%>
    proxy_pass            <%= @proxy %>;
    proxy_read_timeout    <%= @proxy_read_timeout %>;
    proxy_connect_timeout <%= @proxy_connect_timeout %>;
    proxy_send_timeout    <%= @proxy_send_timeout %>;
<% if @proxy_redirect -%>
    proxy_redirect        <%= @proxy_redirect %>;
<% end -%>
<% if @proxy_http_version -%>
    proxy_http_version    <%= @proxy_http_version %>;
<% end -%>
<% if @proxy_method -%>
    proxy_method          <%= @proxy_method %>;
<% end -%>
<% if @proxy_set_body -%>
    proxy_set_body        <%= @proxy_set_body %>;
<% end -%>
<% if @proxy_buffering -%>
    proxy_buffering       <%= @proxy_buffering %>;
<% end -%>
<% if @proxy_busy_buffers_size -%>
    proxy_busy_buffers_size  <%= @proxy_busy_buffers_size %>;
<% end -%>
<% if @proxy_max_temp_file_size -%>
    proxy_max_temp_file_size <%= @proxy_max_temp_file_size %>;
<% end -%>
<% unless @proxy_set_header.nil? -%>
    <%- @proxy_set_header.each do |header| -%>
    proxy_set_header      <%= header %>;
    <%- end -%>
<% end -%>
<% unless @proxy_hide_header.nil? -%>
    <%- @proxy_hide_header.each do |header| -%>
    proxy_hide_header      <%= header %>;
    <%- end -%>
<% end -%>
<% unless @proxy_ignore_header.nil? -%>
    <%- @proxy_ignore_header.each do |header| -%>
    proxy_ignore_headers      <%= header %>;
    <%- end -%>
<% end -%>
<% unless @proxy_pass_header.nil? -%>
    <%- @proxy_pass_header.each do |header| -%>
    proxy_pass_header      <%= header %>;
    <%- end -%>
<% end -%>
<% if @proxy_cache -%>
    proxy_cache           <%= @proxy_cache %>;
<% end -%>
<% if @proxy_cache_valid -%>
    <%- Array(@proxy_cache_valid).each do |line| -%>
    proxy_cache_valid     <%= line %>;
    <%- end -%>
<% end -%>
<% if @proxy_cache_use_stale -%>
    proxy_cache_use_stale   <%= @proxy_cache_use_stale %>;
<% end -%>
<% if @proxy_cache_key -%>
    proxy_cache_key         <%= @proxy_cache_key %>;
<% end -%>
<% if @proxy_cache_bypass -%>
  <%- Array(@proxy_cache_bypass).each do |line| -%>
    proxy_cache_bypass         <%= line %>;
  <% end -%>
<% end -%>
<% if @proxy_cache_lock -%>
    proxy_cache_lock         <%= @proxy_cache_lock %>;
<% end -%>
<% if @proxy_next_upstream -%>
    proxy_next_upstream      <%= @proxy_next_upstream %>;
<% end -%>
<% end -%>
